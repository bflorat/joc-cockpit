!function(){"use strict";angular.module("gantt.bounds",["gantt","gantt.bounds.templates"]).directive("ganttBounds",["moment","$compile","$document",function(e,t,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(a,o,r,i){var s=i.gantt.api;if(a.options&&"object"==typeof a.options.bounds)for(var l in a.options.bounds)a[l]=a.options[l];void 0===a.enabled&&(a.enabled=!0),s.directives.on["new"](a,function(e,o,i){if("ganttTask"===e){var s=o.$new();s.pluginScope=a;var l=n[0].createElement("div");angular.element(l).attr("data-ng-if","task.model.est && task.model.lct && pluginScope.enabled");var d=n[0].createElement("gantt-task-bounds");void 0!==r.templateUrl&&angular.element(d).attr("data-template-url",r.templateUrl),void 0!==r.template&&angular.element(d).attr("data-template",r.template),angular.element(l).append(d),i.append(t(l)(s))}}),s.tasks.on.clean(a,function(t){void 0===t.est||e.isMoment(t.est)||(t.est=e(t.est)),void 0===t.lct||e.isMoment(t.lct)||(t.lct=e(t.lct))})}}}])}(),function(){"use strict";angular.module("gantt.dependencies",["gantt","gantt.dependencies.templates"]).directive("ganttDependencies",["$timeout","$document","ganttDebounce","GanttDependenciesManager","GanttDependenciesChecker",function(e,t,n,a,o){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",readOnly:"=?",jsPlumbDefaults:"=?",endpoints:"=?",fallbackEndpoints:"=?",conflictChecker:"=?"},link:function(e,t,r,i){function s(){return angular.element('<span><span class="gantt-endpoint-overlay start-endpoint arrow-right"></span></span>')}function l(){return angular.element('<span><span class="gantt-endpoint-overlay end-endpoint arrow-right"></span></span>')}function d(){return angular.element('<span><span class="gantt-endpoint-overlay start-endpoint fallback-endpoint"></span></span>')}function c(){return angular.element('<span><span class="gantt-endpoint-overlay end-endpoint fallback-endpoint"></span></span>')}var g=i.gantt.api;if(e.options&&"object"==typeof e.options.dependencies)for(var u in e.options.dependencies)e[u]=e.options[u];void 0===e.enabled&&(e.enabled=!0),void 0===e.readOnly&&(e.readOnly=!1),void 0===e.jsPlumbDefaults&&(e.jsPlumbDefaults={Endpoint:["Dot",{radius:4}],EndpointStyle:{fillStyle:"#456",strokeStyle:"#456",lineWidth:1},Connector:"Flowchart",ConnectionOverlays:[["Arrow",{location:1,length:12,width:12}]]}),void 0===e.endpoints&&(e.endpoints=[{anchor:"Left",isSource:!1,isTarget:!0,maxConnections:-1,cssClass:"gantt-endpoint start-endpoint target-endpoint",overlays:[["Custom",{create:s}]]},{anchor:"Right",isSource:!0,isTarget:!1,maxConnections:-1,cssClass:"gantt-endpoint end-endpoint source-endpoint",overlays:[["Custom",{create:l}]]}]),void 0===e.fallbackEndpoints&&(e.fallbackEndpoints=[{endpoint:"Blank",anchor:"Left",isSource:!1,isTarget:!0,maxConnections:0,cssClass:"gantt-endpoint start-endpoint fallback-endpoint",overlays:[["Custom",{create:d}]]},{endpoint:"Blank",anchor:"Right",isSource:!0,isTarget:!1,maxConnections:0,cssClass:"gantt-endpoint end-endpoint fallback-endpoint",overlays:[["Custom",{create:c}]]}]),void 0===e.conflictChecker&&(e.conflictChecker=!1);var p=new a(i.gantt,e,g),m=new o(p,e,g);e.$watchGroup(["conflictChecker","enabled"],function(t,n){if(t!==n){for(var a=i.gantt.rowsManager.rows,o=[],r=0;r<a.length;r++)o.push.apply(o,a[r].tasks);e.conflictChecker&&e.enabled?m.refresh(o):m.clear(o)}}),g.directives.on["new"](e,function(e,t,n){"ganttBody"===e&&p.plumb.setContainer(n)}),g.tasks.on.add(e,function(e){p.addDependenciesFromTask(e)}),g.tasks.on.remove(e,function(e){p.removeDependenciesFromTask(e)}),g.tasks.on.displayed(e,n(function(t){p.setTasks(t),p.refresh(),e.conflictChecker&&e.enabled&&m.refresh(t)})),g.rows.on.displayed(e,function(){p.refresh()}),g.tasks.on.viewChange(e,function(t){t.$element&&p.plumb.revalidate(t.$element[0]),e.conflictChecker&&e.enabled&&m.refresh([t])}),g.tasks.on.viewRowChange(e,function(t){p.setTask(t),e.conflictChecker&&e.enabled&&m.refresh([t])}),g.dependencies.on.add(e,function(t){e.conflictChecker&&e.enabled&&m.refresh([t.getFromTask(),t.getToTask()])}),g.dependencies.on.change(e,function(t){e.conflictChecker&&e.enabled&&m.refresh([t.getFromTask(),t.getToTask()])}),g.dependencies.on.remove(e,function(t){e.conflictChecker&&e.enabled&&m.refresh([t.getFromTask(),t.getToTask()])})}}}])}(),function(){"use strict";angular.module("gantt.drawtask",["gantt"]).directive("ganttDrawTask",["$document","ganttMouseOffset","ganttUtils","moment",function(e,t,n,a){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",moveThreshold:"=?",taskFactory:"=?"},link:function(o,r,i,s){var l=s.gantt.api;void 0===o.enabled&&(o.enabled=!0),void 0===o.moveThreshold&&(o.moveThreshold=0),void 0===o.taskFactory&&(o.taskFactory=function(){return{}}),l.registerEvent("tasks","draw"),l.registerEvent("tasks","drawBegin"),l.registerEvent("tasks","drawEnd");var d=function(e){return e.model.drawTask&&angular.isFunction(e.model.drawTask.taskFactory)?e.model.drawTask.taskFactory():o.taskFactory()};l.directives.on["new"](o,function(r,i,s){if("ganttRow"===r){var c=function(e){var t=l.core.getDateByPosition(e,!0),n=a(t),o=d(i.row);o.from=t,o.to=n;var r=i.row.addTask(o);return r.isResizing=!0,r.updatePosAndSize(),i.row.updateVisibleTasks(),i.row.$scope.$digest(),r},g=function(t){var n=function(){i.row.rowsManager.gantt.api.tasks.raise.draw(t)};i.row.rowsManager.gantt.api.tasks.raise.drawBegin(t),e.on("mousemove",n),e.one("mouseup",function(){i.row.rowsManager.gantt.api.tasks.raise.drawEnd(t),e.off("mousemove",n)})},u=function(n){var a=function(e){var r=t.getOffset(e).x;if(Math.abs(n-r)>=o.moveThreshold){s.off("mousemove",a);var i=c(n);g(i)}};s.on("mousemove",a),e.one("mouseup",function(){s.off("mousemove",a)})},p=function(e){var a=e.target?e.target:e.srcElement,r=i.row.model.drawTask;("boolean"==typeof r||angular.isFunction(r))&&(r={enabled:r});var s=n.firstProperty([r],"enabled",o.enabled),l=angular.isFunction(s)?s(e,i.row):s;if(l&&a.className.indexOf("gantt-row")>-1){var d=t.getOffset(e).x;if(0===o.moveThreshold){var p=c(d);g(p)}else u(d)}};s.on("mousedown",p),i.drawTaskHandler=p}}),l.directives.on.destroy(o,function(e,t,n){"ganttRow"===e&&(n.off("mousedown",t.drawTaskHandler),delete t.drawTaskHandler)})}}}])}(),function(){"use strict";angular.module("gantt.groups",["gantt","gantt.groups.templates"]).directive("ganttGroups",["ganttUtils","GanttHierarchy","$compile","$document",function(e,t,n,a){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",display:"=?"},link:function(e,o,r,i){function s(){e.hierarchy.refresh(i.gantt.rowsManager.filteredRows)}var l=i.gantt.api;if(e.options&&"object"==typeof e.options.sortable)for(var d in e.options.sortable)e[d]=e.options[d];void 0===e.enabled&&(e.enabled=!0),void 0===e.display&&(e.display="group"),e.hierarchy=new t,i.gantt.api.registerMethod("groups","refresh",s,this),i.gantt.$scope.$watchCollection("gantt.rowsManager.filteredRows",function(){s()}),l.directives.on["new"](e,function(t,o,i){if("ganttRow"===t){var s=o.$new();s.pluginScope=e;var l=a[0].createElement("div");angular.element(l).attr("data-ng-if","pluginScope.enabled");var d=a[0].createElement("gantt-task-group");void 0!==r.templateUrl&&angular.element(d).attr("data-template-url",r.templateUrl),void 0!==r.template&&angular.element(d).attr("data-template",r.template),angular.element(l).append(d),i.append(n(l)(s))}})}}}])}(),function(){"use strict";angular.module("gantt.labels",["gantt","gantt.labels.templates"]).directive("ganttLabels",["ganttUtils","$compile","$document","$log",function(e,t,n,a){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",header:"=?"},link:function(e,o,r,i){function s(){for(var e=i.gantt.side.$element[0].getElementsByClassName("gantt-row-label"),t=0,n=0;n<e.length;n++){var a=e[n].children[0].offsetWidth;t=Math.max(t,a)}t>=0&&l.side.setWidth(t)}var l=i.gantt.api;if(a.warn("Angular Gantt Labels plugin is deprecated. Please use Table plugin instead."),e.options&&"object"==typeof e.options.sortable)for(var d in e.options.sortable)e[d]=e.options[d];void 0===e.enabled&&(e.enabled=!0),void 0===e.header&&(e.header="Name"),l.directives.on["new"](e,function(a,o,r){if("ganttSideContent"===a){var i=o.$new();i.pluginScope=e;var s=n[0].createElement("div");angular.element(s).attr("data-ng-if","pluginScope.enabled"),angular.element(s).addClass("side-element");var l=n[0].createElement("gantt-side-content-labels");angular.element(s).append(l),r.append(t(s)(i))}}),l.registerMethod("labels","fitSideWidth",s,this)}}}])}(),function(){"use strict";angular.module("gantt.movable",["gantt"]).directive("ganttMovable",["ganttMouseButton","ganttMouseOffset","ganttSmartEvent","ganttMovableOptions","ganttUtils","ganttDom","$window","$document","$timeout",function(e,t,n,a,o,r,i,s,l){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",allowMoving:"=?",allowResizing:"=?",allowRowSwitching:"=?"},link:function(d,c,g,u){var p=u.gantt.api;if(d.options&&"object"==typeof d.options.movable)for(var m in d.options.movable)d[m]=d.options[m];a.initialize(d),p.registerEvent("tasks","move"),p.registerEvent("tasks","moveBegin"),p.registerEvent("tasks","moveEnd"),p.registerEvent("tasks","resize"),p.registerEvent("tasks","resizeBegin"),p.registerEvent("tasks","resizeEnd"),p.registerEvent("tasks","change");var f,v,h="ontouchstart"in i||i.DocumentTouch&&s[0]instanceof i.DocumentTouch,k="touchstart mousedown",b="touchmove mousemove",w="touchend mouseup",y=15,$=5,C=3,T=15,E=5;p.directives.on["new"](d,function(a,c,g){if("ganttTask"===a){var p,m=angular.element(i),M=c.row.rowsManager.gantt.body.$element,S=c.row.rowsManager.gantt.scroll.$element,D=!1,R=!1,F=c.task.getForegroundElement(),x=c.task.getContentElement(),H=function(n){n.preventDefault(),h&&(n=t.getTouch(n));var a=c.task.model.movable,r=c.task.row.model.movable;("boolean"==typeof a||angular.isFunction(a))&&(a={enabled:a}),("boolean"==typeof r||angular.isFunction(r))&&(r={enabled:r});var i=o.firstProperty([a,r],"enabled",d.enabled),s=angular.isFunction(i)?i(n,c.task):i;if(s){var l=t.getOffsetForElement(F[0],n).x,g=L(l);if(""!==g&&1===e.getButton(n)){var u=t.getOffsetForElement(M[0],n).x;I(g,u)}c.$digest()}};F.on(k,H),x.on(k,H);var G=function(e){var n=c.task.model.movable,a=c.task.row.model.movable;("boolean"==typeof n||angular.isFunction(n))&&(n={enabled:n}),("boolean"==typeof a||angular.isFunction(a))&&(a={enabled:a});var r=o.firstProperty([n,a],"enabled",d.enabled),i=angular.isFunction(r)?r(e,c.task):r;if(i&&!c.task.isMoving){var s=t.getOffsetForElement(F[0],e).x,l=L(s);""!==l&&"M"!==l?(F.css("cursor",U(l)),x.css("cursor",U(l))):(F.css("cursor",""),x.css("cursor",""))}};F.on("mousemove",G),x.on("mousemove",G);var B=function(e){c.task.isMoving&&!c.destroyed&&(z(),P(e),O(e))},P=function(e){var n=D,a=t.getOffsetForElement(M[0],e),i=a.x;c.task.mouseOffsetX=i;var l=c.task.row.rowsManager.gantt.options.value("taskOutOfRange"),g=c.task.model.movable,p=c.task.row.model.movable;if(("boolean"==typeof g||angular.isFunction(g))&&(g={enabled:g}),("boolean"==typeof p||angular.isFunction(p))&&(p={enabled:p}),"M"===c.task.moveMode){var m=o.firstProperty([g,p],"allowRowSwitching",d.allowRowSwitching);if(m){var v=S[0].getBoundingClientRect(),h=v.left+v.width/2,k=angular.element(s[0].querySelectorAll(".gantt-body"));k.css("pointer-events","auto");var b=r.findElementFromPoint(h,e.clientY,function(e){return angular.element(e).hasClass("gantt-row")});k.css("pointer-events","");for(var w,y=u.gantt.rowsManager.rows,$=0,C=y.length;C>$;$++)if(b===y[$].$element[0]){w=y[$];break}var T=c.task.row;void 0!==w&&T!==w&&(w.moveTaskToRow(c.task,!0),D=!0)}var E=o.firstProperty([g,p],"allowMoving",d.allowMoving);E&&(i-=f,"truncate"!==l&&(0>i?i=0:i+c.task.width>=c.gantt.width&&(i=c.gantt.width-c.task.width)),c.task.moveTo(i,!0),c.$digest(),D&&c.row.rowsManager.gantt.api.tasks.raise.move(c.task),D=!0)}else"E"===c.task.moveMode?(i<=c.task.left&&(i=c.task.left,c.task.moveMode="W",A(U(c.task.moveMode))),"truncate"!==l&&i>=c.gantt.width&&(i=c.gantt.width),c.task.setTo(i,!0),c.$digest(),D&&c.row.rowsManager.gantt.api.tasks.raise.resize(c.task),D=!0):(i>c.task.left+c.task.width&&(i=c.task.left+c.task.width,c.task.moveMode="E",A(U(c.task.moveMode))),"truncate"!==l&&0>i&&(i=0),c.task.setFrom(i,!0),c.$digest(),D&&c.row.rowsManager.gantt.api.tasks.raise.resize(c.task),D=!0);if(!n&&D&&!R){var F=c.task.getBackgroundElement();"M"===c.task.moveMode?(F.addClass("gantt-task-moving"),c.row.rowsManager.gantt.api.tasks.raise.moveBegin(c.task)):(F.addClass("gantt-task-resizing"),c.row.rowsManager.gantt.api.tasks.raise.resizeBegin(c.task))}},O=function(e){var n=t.getOffsetForElement(M[0],e),a=S[0].scrollLeft,o=S[0].offsetWidth,r=S[0].scrollWidth,i=a+o,s=!1;n.x<v?a>0&&n.x<=a+E&&(n.x-=T,s=!0,c.row.rowsManager.gantt.api.scroll.left(T)):r>i&&n.x>=i-E&&(n.x+=T,s=!0,c.row.rowsManager.gantt.api.scroll.right(T)),s&&(p=l(function(){B(e)},100,!0))},z=function(){void 0!==p&&(l.cancel(p),p=void 0)},L=function(e){var t=0,n=c.task.model.movable,a=c.task.row.model.movable;"boolean"==typeof n&&(n={enabled:n}),"boolean"==typeof a&&(a={enabled:a});var r=o.firstProperty([n,a],"allowResizing",d.allowResizing),i=o.firstProperty([n,a],"allowRowSwitching",d.allowRowSwitching),s=o.firstProperty([n,a],"allowMoving",d.allowMoving);return r&&(t=F[0].offsetWidth<y?C:$),r&&e>F[0].offsetWidth-t?"E":r&&t>e?"W":(s||i)&&e>=t&&e<=F[0].offsetWidth-t?"M":""},U=function(e){switch(e){case"E":return"e-resize";case"W":return"w-resize";case"M":return"move"}},A=function(e){g.css("cursor",e),angular.element(s[0].body).css({"-moz-user-select":""===e?"":"-moz-none","-webkit-user-select":""===e?"":"none","-ms-user-select":""===e?"":"none","user-select":""===e?"":"none",cursor:e})},I=function(e,a){void 0===c.task.originalModel&&(c.task.originalRow=c.task.row,c.task.originalModel=c.task.model,c.task.model=angular.copy(c.task.originalModel)),R||(v=a,f=a-c.task.modelLeft),D=!1,c.task.moveMode=e,c.task.isMoving=!0,c.task.active=!0;var o=function(e){e.stopImmediatePropagation(),h&&(e=t.getTouch(e)),B(e)},r=n(c,m,b,o);r.bind(),n(c,m,w,function(e){h&&(e=t.getTouch(e)),r.unbind(),j(e),c.$digest()}).bindOnce(),A(U(e))},j=function(){var e=c.task.getBackgroundElement();if(e.removeClass("gantt-task-moving"),e.removeClass("gantt-task-resizing"),void 0!==c.task.originalModel){if(c.task.originalModel.from=c.task.model.from,c.task.originalModel.to=c.task.model.to,c.task.originalModel.lct=c.task.model.lct,c.task.originalModel.est=c.task.model.est,c.task.model=c.task.originalModel,c.task.row.model.id!==c.task.originalRow.model.id){var t=c.task.row;t.removeTask(c.task.model.id,!1,!0),c.task.row=c.task.originalRow,t.moveTaskToRow(c.task,!1)}delete c.task.originalModel,delete c.task.originalRow,c.$apply()}R=!1,c.task.isMoving=!1,c.task.active=!1,z(),A(""),D===!0&&("M"===c.task.moveMode?c.row.rowsManager.gantt.api.tasks.raise.moveEnd(c.task):c.row.rowsManager.gantt.api.tasks.raise.resizeEnd(c.task),D=!1,c.task.row.sortTasks(),c.row.rowsManager.gantt.api.tasks.raise.change(c.task)),c.task.moveMode=void 0};c.$on("$destroy",function(){c.destroyed=!0,z()}),c.task.isResizing?(R=!0,I("E",c.task.mouseOffsetX),delete c.task.isResizing):c.task.isMoving&&(R=!0,I("M",c.task.mouseOffsetX))}})}}}])}(),function(){"use strict";angular.module("gantt.overlap",["gantt","gantt.overlap.templates"]).directive("ganttOverlap",["moment","$timeout",function(e,t){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",global:"=?"},link:function(n,a,o,r){function i(e){var t,n;return e.model.from.isBefore(e.model.to)?(t=e.model.from,n=e.model.to):(t=e.model.to,n=e.model.from),[t,n]}function s(t){var n=i(t);return e().range(n[0],n[1])}function l(e,t){t.model.id in e||!t.$element||(t.$element.addClass("gantt-task-overlaps"),e[t.model.id]=t)}function d(e,t){for(var n=0,a=t.length;a>n;n++){var o=t[n];o.model.id in e||!o.$element||o.$element.removeClass("gantt-task-overlaps")}}function c(e){var t={};if(e.length>1)for(var n=e[0],a=s(n),o=1,r=e.length;r>o;o++){var i=e[o],c=s(i);c.overlaps(a)&&(l(t,i),l(t,n)),n.left+n.width<i.left+i.width&&(n=i,a=c)}d(t,e)}function g(e,t){return e.sort(function(e,n){return t(e)<t(n)?-1:t(e)>t(n)?1:0})}function u(e){for(var t=[],n=0;n<e.length;n++)t.push.apply(t,e[n].tasks);t=g(t,function(e){return e.model.from}),c(t)}var p=r.gantt.api;void 0===n.enabled&&(n.enabled=!0),void 0===n.global&&(n.global=!1),n.enabled&&(p.data.on.change(n,function(){t(function(){var e=p.gantt.rowsManager.rows;if(n.global)u(e);else for(var t=0;t<e.length;t++)c(e[t].tasks)})}),p.tasks.on.change(n,function(e){if(n.global){var t=e.row.rowsManager.rows;u(t)}else c(e.row.tasks)}),p.tasks.on.rowChange(n,function(e,t){if(n.global){var a=t.rowsManager.rows;u(a)}else c(t.tasks)}),p.tasks.on.add(n,function(e){t(function(){if(n.global){var t=e.row.rowsManager.rows;u(t)}else c(e.row.tasks)})}))}}}])}(),function(){"use strict";angular.module("gantt.progress",["gantt","gantt.progress.templates"]).directive("ganttProgress",["moment","$compile","$document",function(e,t,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(a,o,r,i){var s=i.gantt.api;if(a.options&&"object"==typeof a.options.progress)for(var l in a.options.progress)a[l]=a.options[l];void 0===a.enabled&&(a.enabled=!0),s.directives.on["new"](a,function(e,o,i){if("ganttTaskBackground"===e){var s=o.$new();s.pluginScope=a;var l=n[0].createElement("div");angular.element(l).attr("data-ng-if","task.model.progress !== undefined && pluginScope.enabled");var d=n[0].createElement("gantt-task-progress");void 0!==r.templateUrl&&angular.element(d).attr("data-template-url",r.templateUrl),void 0!==r.template&&angular.element(d).attr("data-template",r.template),angular.element(l).append(d),i.append(t(l)(s))}}),s.tasks.on.clean(a,function(t){void 0===t.est||e.isMoment(t.est)||(t.est=e(t.est)),void 0===t.lct||e.isMoment(t.lct)||(t.lct=e(t.lct))})}}}])}(),function(){"use strict";angular.module("gantt.resizeSensor",["gantt"]).directive("ganttResizeSensor",[function(){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(e,t,n,a){function o(){var e=t.parent().parent().parent()[0].querySelectorAll("div.gantt")[0];return new ResizeSensor(e,function(){a.gantt.$scope.ganttElementWidth=e.clientWidth,a.gantt.$scope.$apply()})}var r=a.gantt.api;if(e.options&&"object"==typeof e.options.progress)for(var i in e.options.progress)e[i]=e.options[i];void 0===e.enabled&&(e.enabled=!0);var s,l=!1;r.core.on.rendered(e,function(){l=!0,void 0!==s&&s.detach(),e.enabled&&(ElementQueries.update(),s=o())}),e.$watch("enabled",function(e){l&&(e&&void 0===s?(ElementQueries.update(),s=o()):e||void 0===s||(s.detach(),s=void 0))})}}}])}(),function(){"use strict";for(var e,t="gantt.sortable",n="ganttSortable",a=["gantt",{module:"ang-drag-drop",url:"https://github.com/ganarajpr/angular-dragdrop.git#master"}],o=[],r=[],i=0,s=a.length;s>i;i++){var l=a[i];try{angular.isString(l)&&(l={module:l},a[i]=l),angular.module(l.module),r.push(l.module)}catch(d){l.exception=d,o.push(l)}}o.length>0?angular.module(t,[]).directive(n,["$log",function(a){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(){a.warn(t+" module can't require some dependencies:");for(var r=0,i=o.length;i>r;r++){e=o[r];var s=e.module;e.url&&(s+=" ("+e.url+")"),e.exception&&e.exception.message&&(s+=": "+e.exception.message),a.warn(s)}a.warn(n+" plugin directive won't be available")}}}]):angular.module(t,r).directive(n,["ganttUtils","$compile",function(e,t){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(n,a,o,r){var i=r.gantt.api;if(n.options&&"object"==typeof n.options.sortable)for(var s in n.options.sortable)n[s]=n.options[s];void 0===n.enabled&&(n.enabled=!0),i.directives.on["new"](n,function(a,o,r){"ganttRowLabel"===a&&void 0===r.attr("drag")&&(o.checkDraggable=function(){var t=o.row.model.sortable;return"boolean"==typeof t&&(t={enabled:t}),e.firstProperty([t],"enabled",n.enabled)},o.onDropSuccess=function(){o.$evalAsync()},o.onDrop=function(e,t){var n=o.row.rowsManager.rowsMap[t.id];n!==o&&(o.row.rowsManager.moveRow(n,o.row),o.$evalAsync())},r.attr("ui-draggable","{{checkDraggable()}}"),r.attr("drag-channel","'sortable'"),r.attr("ui-on-drop","onDrop($event, $data)"),r.attr("on-drop-success","onDropSuccess()"),r.attr("drop-channel","'sortable'"),r.attr("drag","row.model"),t(r)(o))})}}}])}(),function(){"use strict";angular.module("gantt.table",["gantt","gantt.table.templates"]).directive("ganttTable",["ganttUtils","$compile","$document",function(e,t,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",columns:"=?",headers:"=?",classes:"=?",contents:"=?",headerContents:"=?",formatters:"=?",headerFormatter:"=?"},link:function(e,a,o,r){var i=r.gantt.api;if(e.options&&"object"==typeof e.options.sortable)for(var s in e.options.sortable)e[s]=e.options[s];void 0===e.enabled&&(e.enabled=!0),void 0===e.columns&&(e.columns=["model.name"]),void 0===e.headers&&(e.headers={"model.name":"Name"}),void 0===e.contents&&(e.contents={}),void 0===e.headerContents&&(e.headerContents={}),void 0===e.classes&&(e.classes={}),void 0===e.formatters&&(e.formatters={}),i.directives.on["new"](e,function(a,o,r){if("ganttSideContent"===a){var i=o.$new();i.pluginScope=e;var s=n[0].createElement("div");angular.element(s).attr("data-ng-if","pluginScope.enabled"),angular.element(s).addClass("side-element");var l=n[0].createElement("gantt-side-content-table");angular.element(s).append(l),r.append(t(s)(i))}})}}}])}(),function(){"use strict";angular.module("gantt.tooltips",["gantt","gantt.tooltips.templates"]).directive("ganttTooltips",["$compile","$document",function(e,t){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",dateFormat:"=?",content:"=?",delay:"=?"},link:function(n,a,o,r){var i=r.gantt.api;if(n.options&&"object"==typeof n.options.tooltips)for(var s in n.options.tooltips)n[s]=n.options[s];void 0===n.enabled&&(n.enabled=!0),void 0===n.dateFormat&&(n.dateFormat="MMM DD, HH:mm"),void 0===n.delay&&(n.delay=500),void 0===n.content&&(n.content="{{task.model.name}}</br><small>{{task.isMilestone() === true && getFromLabel() || getFromLabel() + ' - ' + getToLabel()}}</small>"),n.api=i,i.directives.on["new"](n,function(a,r,i){if("ganttTask"===a){var s=r.$new();s.pluginScope=n;var l=t[0].createElement("div");angular.element(l).attr("data-ng-if","pluginScope.enabled");var d=t[0].createElement("gantt-tooltip");void 0!==o.templateUrl&&angular.element(d).attr("data-template-url",o.templateUrl),void 0!==o.template&&angular.element(d).attr("data-template",o.template),angular.element(l).append(d),i.append(e(l)(s))}})}}}])}(),function(){"use strict";angular.module("gantt.tree",["gantt","gantt.tree.templates","ui.tree"]).directive("ganttTree",["ganttUtils","$compile","$document",function(e,t,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",header:"=?",content:"=?",headerContent:"=?",keepAncestorOnFilterRow:"=?"},link:function(e,a,o,r){var i=r.gantt.api;if(e.options&&"object"==typeof e.options.sortable)for(var s in e.options.sortable)e[s]=e.options[s];void 0===e.enabled&&(e.enabled=!0),void 0===e.header&&(e.header="Name"),void 0===e.headerContent&&(e.headerContent="{{getHeader()}}"),void 0===e.keepAncestorOnFilterRow&&(e.keepAncestorOnFilterRow=!1),i.directives.on["new"](e,function(a,o,r){if("ganttSideContent"===a){var i=o.$new();i.pluginScope=e;var s=n[0].createElement("div");angular.element(s).attr("data-ng-if","pluginScope.enabled"),angular.element(s).addClass("side-element");var l=n[0].createElement("gantt-side-content-tree");angular.element(s).append(l),r.append(t(s)(i))}})}}}])}(),function(){"use strict";angular.module("gantt.bounds").directive("ganttTaskBounds",["$templateCache","moment",function(e,t){return{restrict:"E",templateUrl:function(t,n){var a;return a=void 0===n.templateUrl?"plugins/bounds/taskBounds.tmpl.html":n.templateUrl,n.template&&e.put(a,n.template),a},replace:!0,scope:!0,controller:["$scope","$element",function(e,n){n.toggleClass("ng-hide",!0),e.simplifyMoment=function(e){return t.isMoment(e)?e.unix():e},e.$watchGroup(["simplifyMoment(task.model.est)","simplifyMoment(task.model.lct)","task.left","task.width"],function(){var t=e.task.rowsManager.gantt.getPositionByDate(e.task.model.est),a=e.task.rowsManager.gantt.getPositionByDate(e.task.model.lct);n.css("left",t-e.task.left+"px"),n.css("width",a-t+"px"),n.toggleClass("gantt-task-bounds-in",!1),n.toggleClass("gantt-task-bounds-out",!1),void 0===e.task.model.est||void 0===e.task.model.lct?n.toggleClass("gantt-task-bounds-in",!0):e.task.model.est>e.task.model.from?n.toggleClass("gantt-task-bounds-out",!0):e.task.model.lct<e.task.model.to?n.toggleClass("gantt-task-bounds-out",!0):n.toggleClass("gantt-task-bounds-in",!0)}),e.task.$element.bind("mouseenter",function(){n.toggleClass("ng-hide",!1)}),e.task.$element.bind("mouseleave",function(){n.toggleClass("ng-hide",!0)}),e.task.rowsManager.gantt.api.directives.raise["new"]("ganttBounds",e,n),e.$on("$destroy",function(){e.task.rowsManager.gantt.api.directives.raise.destroy("ganttBounds",e,n)})}]}}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependenciesChecker",[function(){var e=function(e){function t(e,t){t.model.id in e||!t.$element||(t.$element.addClass("gantt-task-conflict"),e[t.model.id]=t)}function n(e,t){for(var n=0,a=t.length;a>n;n++){var o=t[n];o.model.id in e||!o.$element||o.$element.removeClass("gantt-task-conflict")}}this.refresh=function(a){for(var o=a.slice(0),r=[],i=0;i<a.length;i++)for(var s=e.getTaskDependencies(a[i]),l=0;l<s.length;l++){var d=s[l],c=d.getFromTask(),g=d.getToTask();c in o||o.push(c),g in o||o.push(g),c.model.to>g.model.from&&(t(r,c),t(r,g))}n(r,o)},this.clear=function(e){var t=e.slice(0);n([],t)}};return e}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependenciesEvents",[function(){var e=function(e){var t=this;this.manager=e;var n=function(){return!t.manager.pluginScope.readOnly};this.manager.plumb.bind("beforeDrag",n),this.manager.plumb.bind("beforeStartDetach",n);var a=function(e){return e.sourceId!==e.targetId};this.manager.plumb.bind("beforeDrop",a),this.manager.plumb.bind("connectionDrag",function(e){t.manager.setDraggingConnection(e)}),this.manager.plumb.bind("connectionDragStop",function(){t.manager.setDraggingConnection(void 0)}),this.manager.plumb.bind("beforeDrop",function(){return t.manager.setDraggingConnection(void 0),!0});var o=function(e,n){if(n){var a;e.connection.$dependency&&(a=e.connection.$dependency);var o=e.sourceEndpoint,r=e.targetEndpoint,i=o.$task.model,s=i.dependencies;void 0===s&&(s=[],i.dependencies=s);var l={to:r.$task.model.id};s.push(l),a&&(a.removeFromTaskModel(),t.manager.removeDependency(a,!0));var d=t.manager.addDependency(o.$task,l);e.connection.$dependency=d,d.connection=e.connection,t.manager.api.dependencies.raise.add(d)}},r=function(e,n){if(n){var a;e.connection.$dependency&&(a=e.connection.$dependency);var o=e.newSourceEndpoint,r=e.newTargetEndpoint,i=o.$task.model,s=i.dependencies;void 0===s&&(s=[],i.dependencies=s);var l={to:r.$task.model.id};s.push(l),a&&(a.removeFromTaskModel(),t.manager.removeDependency(a,!0));var d=t.manager.addDependency(o.$task,l);e.connection.$dependency=d,d.connection=e.connection,t.manager.api.dependencies.raise.change(d,a)}},i=function(e,n){if(n){var a=e.connection.$dependency;a.removeFromTaskModel(),t.manager.removeDependency(a,!0),t.manager.api.dependencies.raise.remove(a)}};this.manager.plumb.bind("connectionMoved",r),this.manager.plumb.bind("connection",o),this.manager.plumb.bind("connectionDetached",i)};return e}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependenciesManager",["GanttDependency","GanttDependenciesEvents","GanttDependencyTaskMouseHandler",function(e,t,n){var a=function(a,o,r){var i=this;this.gantt=a,this.pluginScope=o,this.api=r,this.api.registerEvent("dependencies","add"),this.api.registerEvent("dependencies","change"),this.api.registerEvent("dependencies","remove"),this.plumb=jsPlumb.getInstance(),this.plumb.importDefaults(this.pluginScope.jsPlumbDefaults),this.dependenciesFrom={},this.dependenciesTo={},this.tasksList=[],this.tasks={},this.events=new t(this),this.pluginScope.$watch("enabled",function(e,t){e!==t&&i.refresh()}),this.pluginScope.$watch("readOnly",function(e,t){e!==t&&(i.setTasks(i.tasksList),i.refresh())}),this.pluginScope.$watch("jsPlumbDefaults",function(e,t){e!==t&&(i.plumb.importDefaults(e),i.refresh())},!0),this.addDependenciesFromTask=function(e){if(this.pluginScope.enabled){var t=e.model.dependencies;if(void 0!==t&&t){angular.isArray(t)||(t=[t],e.model.dependencies=t);for(var n=0,a=t.length;a>n;n++){var o=i.addDependency(e,t[n]);o.connect()}}}},this.removeDependenciesFromTask=function(e,t){var n=this.getTaskDependencies(e);if(n)for(var a=0;a<n.length;a++)t||n[a].disconnect(),i.removeDependency(n[a])},this.addDependency=function(t,n){var a=new e(this,t,n),o=a.getFromTaskId(),r=a.getToTaskId();return o in this.dependenciesFrom||(this.dependenciesFrom[o]=[]),r in this.dependenciesTo||(this.dependenciesTo[r]=[]),o&&this.dependenciesFrom[o].push(a),r&&this.dependenciesTo[r].push(a),a},this.removeDependency=function(e,t){var n,a=this.dependenciesFrom[e.getFromTaskId()],o=[];if(a)for(n=0;n<a.length;n++)e===a[n]&&o.push(e);var r=this.dependenciesTo[e.getToTaskId()],i=[];if(r)for(n=0;n<r.length;n++)e===r[n]&&i.push(e);for(n=0;n<o.length;n++)t||o[n].disconnect(),a.splice(a.indexOf(e),1);for(n=0;n<i.length;n++)t||i[n].disconnect(),r.splice(r.indexOf(e),1);this.dependenciesFrom[e.getFromTaskId()]&&0===this.dependenciesFrom[e.getFromTaskId()].length&&delete this.dependenciesFrom[e.getFromTaskId()],this.dependenciesTo[e.getToTaskId()]&&0===this.dependenciesTo[e.getToTaskId()].length&&delete this.dependenciesTo[e.getToTaskId()]},this.getTaskDependencies=function(e){var t=[],n=i.dependenciesFrom[e.model.id];n&&(t=t.concat(n));var a=i.dependenciesTo[e.model.id];return a&&(t=t.concat(a)),t},this.setDraggingConnection=function(e){e?(i.draggingConnection=e,angular.forEach(i.tasks,function(e){e.dependencies.mouseHandler.release()})):(i.draggingConnection=void 0,angular.forEach(i.tasks,function(e){e.dependencies.mouseHandler.install()}))};var s=function(e){var t=e.row.model.dependencies;if(void 0!==t)return t!==!1;var n=e.model.dependencies;return void 0!==n?n!==!1:!0},l=function(e){if(e.dependencies||(e.dependencies={}),e.dependencies.endpoints=[],i.pluginScope.endpoints&&e.$element)for(var t=0;t<i.pluginScope.endpoints.length;t++){var n=i.plumb.addEndpoint(e.$element,i.pluginScope.endpoints[t]);n.setVisible(!1,!0,!0),n.$task=e,e.dependencies.endpoints.push(n)}},d=function(e){if(e.dependencies.endpoints){for(var t=0;t<e.dependencies.endpoints.length;t++){var n=e.dependencies.endpoints[t];i.plumb.deleteEndpoint(n),n.$task=void 0}e.dependencies.endpoints=void 0}},c=function(e){e.dependencies||(e.dependencies={}),i.pluginScope.readOnly||(e.dependencies.mouseHandler=new n(i,e),e.dependencies.mouseHandler.install())},g=function(e){e.dependencies.mouseHandler&&(e.dependencies.mouseHandler.release(),e.dependencies.mouseHandler=void 0)};this.setTasks=function(e){angular.forEach(i.tasks,function(e){g(e),d(e)});for(var t={},n=[],a=0;a<e.length;a++){var o=e[a];s(o)&&(t[o.model.id]=o,n.push(o),l(o),c(o))}i.tasks=t,i.tasksList=e};var u=function(e){var t=i.getTaskDependencies(e);if(t)for(var n=0;n<t.length;n++)t[n].disconnect();return t},p=function(e){var t=i.getTaskDependencies(e);if(t)for(var n=0;n<t.length;n++)t[n].connect();return t};this.setTask=function(e){i.plumb.setSuspendDrawing(!0);try{var t=i.tasks[e.model.id];void 0!==t&&(u(t),g(t),d(t)),s(e)&&(i.tasks[e.model.id]=e,l(e),c(e),p(e))}finally{i.plumb.setSuspendDrawing(!1,!0)}},this.getTask=function(e){return i.tasks[e]};var m=function(e){return e.dependencies.endpoints.filter(function(e){return e.isSource})},f=function(e){return e.dependencies.endpoints.filter(function(e){return e.isTarget})};this.connect=function(e,t,n){var a=m(e),o=f(t);if(a&&o){var r,s;r=n.connectParameters&&n.connectParameters.sourceEndpointIndex?a[n.connectParameters.sourceEndpointIndex]:a[0],
s=n.connectParameters&&n.connectParameters.targetEndpointIndex?o[n.connectParameters.targetEndpointIndex]:o[0];var l=i.plumb.connect({source:r,target:s},n.connectParameters);return l}},this.getDependencies=function(){var e=[];return angular.forEach(this.dependenciesFrom,function(t){for(var n=0;n<t.length;n++)t[n]in e||e.push(t[n])}),e},this.refresh=function(e){i.plumb.setSuspendDrawing(!0);try{var t,n;e&&!angular.isArray(e)&&(e=[e]),void 0===e?(e=this.tasks,t=this.getDependencies()):(t=[],angular.forEach(e,function(e){var n=i.getTaskDependencies(e);angular.forEach(n,function(e){e in t||t.push(e)})}));for(n=0;n<t.length;n++)i.removeDependency(t[n]);angular.forEach(e,function(e){i.addDependenciesFromTask(e)})}finally{i.plumb.setSuspendDrawing(!1,!0)}},this.api.registerMethod("dependencies","refresh",this.refresh,this)};return a}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependency",["ganttUtils","ganttDom",function(e,t){var n=function(n,a,o){var r=this;this.manager=n,this.task=a,this.model=o,this.connection=void 0,this.fallbackEndpoints=[],this.isConnected=function(){return this.connection?!0:!1},this.disconnect=function(){this.connection&&(this.connection.endpoints&&this.manager.plumb.detach(this.connection),this.connection.$dependency=void 0,this.connection=void 0),this.deleteFallbackEndpoints()},this.deleteFallbackEndpoints=function(){if(this.fallbackEndpoints){for(var e=0;e<this.fallbackEndpoints.length;e++)r.manager.plumb.deleteEndpoint(this.fallbackEndpoints[e]);this.fallbackEndpoints=[]}},this.getFromTaskId=function(){return void 0!==this.model.from?this.model.from:this.task.model.id},this.getToTaskId=function(){return void 0!==this.model.to?this.model.to:this.task.model.id},this.getFromTask=function(){return void 0!==this.model.from?this.manager.getTask(this.model.from):this.task},this.getToTask=function(){return void 0!==this.model.to?this.manager.getTask(this.model.to):this.task},this.removeFromTaskModel=function(){var t=e.angularIndexOf(this.task.model.dependencies,this.model);return t>=0&&this.task.model.dependencies.splice(t,1),t};var i=function(e){if(void 0===e||void 0===e.$element)return!1;var n=e.$element[0];return t.isElementVisible(n)};this.connect=function(){var e=this.getFromTask(),t=this.getToTask();if(i(e)||(e=void 0),i(t)||(t=void 0),e&&t){var n=this.manager.connect(e,t,this.model);if(n)return n.$dependency=this,this.connection=n,!0}if(this.deleteFallbackEndpoints(),void 0!==e){var a=this.manager.pluginScope.fallbackEndpoints[1];this.fallbackEndpoints.push(this.manager.plumb.addEndpoint(e.$element,a))}if(void 0!==t){var o=this.manager.pluginScope.fallbackEndpoints[0];this.fallbackEndpoints.push(this.manager.plumb.addEndpoint(t.$element,o))}return!1}};return n}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependencyTaskMouseHandler",["$timeout",function(e){var t=function(t,n){var a=this;this.manager=t,this.task=n,this.installed=!1,this.elementHandlers=[],this.display=!0,this.hideEndpointsPromise=void 0;var o=function(t){this.element=t,this.mouseExitHandler=function(){e.cancel(a.hideEndpointsPromise),a.hideEndpointsPromise=e(a.hideEndpoints,1e3,!1)},this.mouseEnterHandler=function(){e.cancel(a.hideEndpointsPromise),a.displayEndpoints()},this.install=function(){this.element.bind("mouseenter",this.mouseEnterHandler),this.element.bind("mouseleave",this.mouseExitHandler)},this.release=function(){this.element.unbind("mouseenter",this.mouseEnterHandler),this.element.unbind("mouseleave",this.mouseExitHandler),e.cancel(a.hideEndpointsPromise)}};this.install=function(){a.installed||(a.hideEndpoints(),a.task.getContentElement()&&(a.elementHandlers.push(new o(a.task.getContentElement())),angular.forEach(a.task.dependencies.endpoints,function(e){a.elementHandlers.push(new o(angular.element(e.canvas)))}),angular.forEach(a.elementHandlers,function(e){e.install()}),a.installed=!0))},this.release=function(){a.installed&&(angular.forEach(a.elementHandlers,function(e){e.release()}),a.elementHandlers=[],a.displayEndpoints(),a.installed=!1)},this.displayEndpoints=function(){a.display=!0,angular.forEach(a.task.dependencies.endpoints,function(e){e.setVisible(!0,!0,!0)})},this.hideEndpoints=function(){angular.forEach(a.task.dependencies.endpoints,function(e){e.setVisible(!1,!0,!0)}),a.display=!1}};return t}])}(),function(){"use strict";angular.module("gantt.groups").controller("GanttGroupController",["$scope","GanttTaskGroup","ganttUtils",function(e,t,n){var a=function(){var a=e.row.model.groups;"boolean"==typeof a&&(a={enabled:a});var o=n.firstProperty([a],"enabled",e.pluginScope.enabled);o?(e.display=n.firstProperty([a],"display",e.pluginScope.display),e.taskGroup=new t(e.row,e.pluginScope),e.row.setFromTo(),e.row.setFromToByValues(e.taskGroup.from,e.taskGroup.to)):(e.taskGroup=void 0,e.display=void 0)};e.gantt.api.tasks.on.viewChange(e,function(t){if(void 0!==e.taskGroup)if(e.taskGroup.tasks.indexOf(t)>-1)a(),e.$$phase||e.$root.$$phase||e.$digest();else{var n=e.pluginScope.hierarchy.descendants(e.row);n.indexOf(t.row)>-1&&(a(),e.$$phase||e.$root.$$phase||e.$digest())}});var o=e.pluginScope.$watch("display",a);e.$watchCollection("gantt.rowsManager.filteredRows",a),e.gantt.api.columns.on.refresh(e,a),e.$on("$destroy",o)}])}(),function(){"use strict";angular.module("gantt.groups").directive("ganttTaskGroup",["GanttDirectiveBuilder",function(e){var t=new e("ganttTaskGroup","plugins/groups/taskGroup.tmpl.html");return t.build()}])}(),function(){"use strict";angular.module("gantt").factory("GanttTaskGroup",["ganttUtils","GanttTask",function(e,t){var n=function(n,a){var o=this;o.row=n,o.pluginScope=a,o.descendants=o.pluginScope.hierarchy.descendants(o.row),o.tasks=[],o.overviewTasks=[],o.promotedTasks=[],o.showGrouping=!1;var r=o.row.model.groups;"boolean"==typeof r&&(r={enabled:r});for(var i=function(t){var n=t.model.groups;"boolean"==typeof n&&(n={enabled:n});var a=t.row.model.groups;"boolean"==typeof a&&(a={enabled:a});var i=e.firstProperty([n,a,r],"enabled",o.pluginScope.enabled);if(i){var s=e.firstProperty([n,a,r],"display",o.pluginScope.display);return s}},s=0;s<o.descendants.length;s++)for(var l=o.descendants[s].tasks,d=0;d<l.length;d++){var c=l[d],g=i(c);if(void 0!==g){o.tasks.push(c);var u=new t(o.row,c.model);"overview"===g?o.overviewTasks.push(u):"promote"===g?o.promotedTasks.push(u):o.showGrouping=!0}}if(o.from=void 0,r&&(o.from=r.from),void 0===o.from)for(s=0;s<o.tasks.length;s++)(void 0===o.from||o.tasks[s].model.from<o.from)&&(o.from=o.tasks[s].model.from);if(o.to=void 0,r&&(o.to=r.to),void 0===o.to)for(s=0;s<o.tasks.length;s++)(void 0===o.to||o.tasks[s].model.to>o.to)&&(o.to=o.tasks[s].model.to);o.showGrouping&&(o.left=n.rowsManager.gantt.getPositionByDate(o.from),o.width=n.rowsManager.gantt.getPositionByDate(o.to)-o.left)};return n}])}(),function(){"use strict";angular.module("gantt").directive("ganttTaskOverview",["GanttDirectiveBuilder",function(e){var t=new e("ganttTaskOverview","plugins/groups/taskOverview.tmpl.html");return t.controller=function(e,t){e.task.$element=t,e.task.$scope=e,e.task.updatePosAndSize()},t.build()}])}(),function(){"use strict";angular.module("gantt.labels").directive("ganttLabelsBody",["GanttDirectiveBuilder","ganttLayout",function(e,t){var n=new e("ganttLabelsBody","plugins/labels/labelsBody.tmpl.html");return n.controller=function(e){var n=t.getScrollBarHeight();e.getLabelsCss=function(){var t={};if(e.maxHeight){var a=e.gantt.scroll.isHScrollbarVisible()?n:0;t["max-height"]=e.maxHeight-a-e.gantt.header.getHeight()+"px"}return t}},n.build()}])}(),function(){"use strict";angular.module("gantt.labels").directive("ganttLabelsHeader",["GanttDirectiveBuilder",function(e){var t=new e("ganttLabelsHeader","plugins/labels/labelsHeader.tmpl.html");return t.build()}])}(),function(){"use strict";angular.module("gantt.labels").directive("ganttSideContentLabels",["GanttDirectiveBuilder",function(e){var t=new e("ganttSideContentLabels","plugins/labels/sideContentLabels.tmpl.html");return t.build()}])}(),function(){"use strict";angular.module("gantt.movable").factory("ganttMovableOptions",[function(){return{initialize:function(e){return e.enabled=void 0!==e.enabled?e.enabled:!0,e.allowMoving=void 0!==e.allowMoving?!!e.allowMoving:!0,e.allowResizing=void 0!==e.allowResizing?!!e.allowResizing:!0,e.allowRowSwitching=void 0!==e.allowRowSwitching?!!e.allowRowSwitching:!0,e}}}])}(),function(){"use strict";angular.module("gantt.progress").directive("ganttTaskProgress",["$templateCache",function(e){return{restrict:"E",requires:"^ganttTask",templateUrl:function(t,n){var a;return a=void 0===n.templateUrl?"plugins/progress/taskProgress.tmpl.html":n.templateUrl,void 0!==n.template&&e.put(a,n.template),a},replace:!0,scope:!0,controller:["$scope","$element",function(e,t){e.getClasses=function(){var t=[];return"object"==typeof e.task.model.progress&&(t=e.task.model.progress.classes),t},e.getCss=function(){var t,n={};return void 0!==e.task.model.progress&&(t="object"==typeof e.task.model.progress?e.task.model.progress:{percent:e.task.model.progress}),t&&(t.color?n["background-color"]=t.color:n["background-color"]="#6BC443",n.width=t.percent+"%"),n},e.task.rowsManager.gantt.api.directives.raise["new"]("ganttTaskProgress",e,t),e.$on("$destroy",function(){e.task.rowsManager.gantt.api.directives.raise.destroy("ganttTaskProgress",e,t)})}]}}])}(),function(){"use strict";angular.module("gantt.table").directive("ganttSideContentTable",["GanttDirectiveBuilder","ganttLayout",function(e,t){var n=new e("ganttSideContentTable","plugins/table/sideContentTable.tmpl.html");return n.controller=function(e){var n=t.getScrollBarHeight();e.getMaxHeightCss=function(){var t={};if(e.maxHeight){var a=e.gantt.scroll.isHScrollbarVisible()?n:0;t["max-height"]=e.maxHeight-a-e.gantt.header.getHeight()+"px"}return t}},n.build()}])}(),function(){"use strict";angular.module("gantt.table").controller("TableColumnController",["$scope",function(e){e.getHeader=function(){var t=e.pluginScope.headers[e.column];return void 0!==t?t:(void 0!==e.pluginScope.headerFormatter&&(t=e.pluginScope.headerFormatter(e.column)),void 0!==t?t:t)},e.getHeaderContent=function(){var t=e.pluginScope.headerContents[e.column];return void 0===t?"{{getHeader()}}":t},e.getClass=function(){return e.pluginScope.classes[e.column]}}])}(),function(){"use strict";angular.module("gantt.table").controller("TableColumnRowController",["$scope",function(e){e.getValue=function(){var t=e.$eval(e.column,e.row),n=e.pluginScope.formatters[e.column];return void 0!==n&&(t=n(t,e.column,e.row)),t},e.getRowContent=function(){var t;return e.row.model.columnContents&&(t=e.row.model.columnContents[e.column]),void 0===t&&"model.name"===e.column&&(t=e.row.model.content),void 0===t&&(t=e.pluginScope.contents[e.column]),void 0===t&&"model.name"===e.column&&(t=e.row.rowsManager.gantt.options.value("rowContent")),void 0===t&&void 0!==e.pluginScope.content&&(t=e.pluginScope.content),void 0===t?"{{getValue()}}":t}}])}(),function(){"use strict";angular.module("gantt.tooltips").directive("ganttTooltip",["$log","$timeout","$compile","$document","$templateCache","ganttDebounce","ganttSmartEvent",function(e,t,n,a,o,r,i){return{restrict:"E",templateUrl:function(e,t){var n;return n=void 0===t.templateUrl?"plugins/tooltips/tooltip.tmpl.html":t.templateUrl,void 0!==t.template&&o.put(n,t.template),n},scope:!0,replace:!0,controller:["$scope","$element","ganttUtils",function(e,n,o){var s,l,d,c=angular.element(a[0].body),g=e.task.$element,u=!1,p=function(){var e=a[0];return e.documentElement.clientWidth||e.documentElement.getElementById("body")[0].clientWidth},m=function(t){t+n[0].offsetWidth>p()?(n.css("left",t+20-n[0].offsetWidth+"px"),e.isRightAligned=!0):(n.css("left",t-20+"px"),e.isRightAligned=!1)},f=function(t){u=!0,d.bind(),e.displayed=!0,e.$evalAsync(function(){var a;n.hasClass("ng-hide")&&(n.removeClass("ng-hide"),a=!0),e.elementHeight=n[0].offsetHeight,a&&n.addClass("ng-hide"),e.taskRect=g[0].getBoundingClientRect(),m(t)})},v=function(){u=!1,d.unbind(),e.$evalAsync(function(){e.displayed=!1})},h=function(n,a){s&&t.cancel(s);var r=e.task.model.tooltips,i=e.task.row.model.tooltips;"boolean"==typeof r&&(r={enabled:r}),"boolean"==typeof i&&(i={enabled:i});var d=o.firstProperty([r,i],"enabled",e.pluginScope.enabled);d&&!u&&void 0!==l&&n?a?s=t(function(){f(l)},e.pluginScope.delay,!1):f(l):n||e.task.active||v()};d=i(e,c,"mousemove",r(function(t){u?((!e.taskRect||t.clientX<e.taskRect.left||t.clientX>e.taskRect.right||t.clientY>e.taskRect.bottom||t.clientY<e.taskRect.top)&&h(!1,!1),m(t.clientX)):(l=t.clientX,h(!0,!1))},5,!1)),e.getFromLabel=function(){var t=e.task.model.tooltips,n=e.task.row.model.tooltips;"boolean"==typeof t&&(t={enabled:t}),"boolean"==typeof n&&(n={enabled:n});var a=o.firstProperty([t,n],"dateFormat",e.pluginScope.dateFormat);return e.task.model.from.format(a)},e.getToLabel=function(){var t=e.task.model.tooltips,n=e.task.row.model.tooltips;"boolean"==typeof t&&(t={enabled:t}),"boolean"==typeof n&&(n={enabled:n});var a=o.firstProperty([t,n],"dateFormat",e.pluginScope.dateFormat);return e.task.model.to.format(a)},e.task.getContentElement().bind("mousemove",function(e){l=e.clientX}),e.task.getContentElement().bind("mouseenter",function(e){l=e.clientX,h(!0,!0)}),e.task.getContentElement().bind("mouseleave",function(){h(!1)}),e.pluginScope.api.tasks.on.moveBegin&&(e.pluginScope.api.tasks.on.moveBegin(e,function(t){t===e.task&&h(!0)}),e.pluginScope.api.tasks.on.moveEnd(e,function(t){t===e.task&&h(!1)}),e.pluginScope.api.tasks.on.resizeBegin(e,function(t){t===e.task&&h(!0)}),e.pluginScope.api.tasks.on.resizeEnd(e,function(t){t===e.task&&h(!1)})),e.task.isMoving&&h(!0,!1),e.gantt.api.directives.raise["new"]("ganttTooltip",e,n),e.$on("$destroy",function(){e.gantt.api.directives.raise.destroy("ganttTooltip",e,n)})}]}}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttRowTreeLabel",["GanttDirectiveBuilder",function(e){var t=new e("ganttRowTreeLabel");return t.restrict="A",t.templateUrl=void 0,t.build()}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttSideContentTree",["GanttDirectiveBuilder",function(e){var t=new e("ganttSideContentTree","plugins/tree/sideContentTree.tmpl.html");return t.build()}])}(),function(){"use strict";angular.module("gantt.tree").controller("GanttTreeController",["$scope","$filter","GanttHierarchy",function(e,t,n){e.rootRows=[],e.getHeader=function(){return e.pluginScope.header};var a=new n;e.pluginScope.$watchGroup(["keepAncestorOnFilterRow","enabled"],function(n){var o=n[0]&&n[1];if(o){var r=function(e,n,o){a.refresh(e);for(var r=[],i=0;i<e.length;i++){var s=a.children(e[i]);s&&0!==s.length||r.push(e[i])}var l=t("filter")(r,n,o),d=function(e){if(l.indexOf(e)>-1)return!0;for(var t=a.descendants(e),n=0;n<t.length;n++)if(l.indexOf(t[n])>-1)return!0;return!1};return t("filter")(e,d,o)};e.gantt.rowsManager.setFilterImpl(r)}else e.gantt.rowsManager.setFilterImpl(!1)});var o=function(t){for(var n=e.parent(t);void 0!==n;){if(void 0!==n&&n._collapsed)return!1;n=e.parent(n)}return!0},r=function(e){return e.filter(function(e){return o(e)})},i=function(t){for(var n=[],a=[],o=!1,r=0;r<t.length;r++){var i=e.parent(t[r]);void 0===i?a.push(t[r]):o=!0}var s=function(a){n.push(a);var o=e.children(a);if(void 0!==o&&o.length>0)for(var r=o.sort(function(e,n){return t.indexOf(e)-t.indexOf(n)}),i=0;i<r.length;i++)s(r[i])};for(r=0;r<a.length;r++)s(a[r]);return n};e.gantt.api.rows.addRowSorter(i),e.gantt.api.rows.addRowFilter(r),e.$on("$destroy",function(){e.gantt.api.rows.removeRowSorter(i),e.gantt.api.rows.removeRowFilter(r)});var s=function(){e.rootRows=a.refresh(e.gantt.rowsManager.filteredRows),e.gantt.rowsManager.filteredRows.length>0&&(e.gantt.api.rows.sort(),e.gantt.api.rows.refresh())};e.gantt.api.rows.on.remove(e,s),e.gantt.api.rows.on.add(e,s);var l=function(t){var n;return n="string"==typeof t?e.gantt.rowsManager.rowsMap[t]:t,void 0===n?void 0:void 0===n._collapsed?!1:n._collapsed},d=function(t){var n;if(n="string"==typeof t?e.gantt.rowsManager.rowsMap[t]:t,void 0!==n){var a=e.nodeScopes[n.model.id];a.collapsed&&a.toggle()}},c=function(t){var n;if(n="string"==typeof t?e.gantt.rowsManager.rowsMap[t]:t,void 0!==n){var a=e.nodeScopes[n.model.id];a.collapsed||a.toggle()}},g=function(){return a};e.getHeaderContent=function(){return e.pluginScope.headerContent},e.gantt.api.registerMethod("tree","refresh",s,this),e.gantt.api.registerMethod("tree","isCollapsed",l,this),e.gantt.api.registerMethod("tree","expand",d,this),e.gantt.api.registerMethod("tree","collapse",c,this),e.gantt.api.registerEvent("tree","collapsed"),e.gantt.api.registerMethod("tree","getHierarchy",g,this),e.$watchCollection("gantt.rowsManager.filteredRows",function(){s()}),e.children=function(t){return void 0===t?e.rootRows:a.children(t)},e.parent=function(e){return a.parent(e)},e.nodeScopes={}}]).controller("GanttUiTreeController",["$scope",function(e){var t=function(){e.$broadcast("angular-ui-tree:collapse-all")},n=function(){e.$broadcast("angular-ui-tree:expand-all")};e.gantt.api.registerMethod("tree","collapseAll",t,e),e.gantt.api.registerMethod("tree","expandAll",n,e)}]).controller("GanttTreeNodeController",["$scope",function(e){e.$parent.nodeScopes[e.row.model.id]=e,e.$on("$destroy",function(){delete e.$parent.nodeScopes[e.row.model.id]}),e.$watch("children(row)",function(t){if(t){for(var n=e.row.rowsManager.filteredRows,a=[],o=0;o<t.length;o++){var r=t[o];n.indexOf(r)>-1&&a.push(r)}e.$parent.childrenRows=a}else e.$parent.childrenRows=t}),e.isCollapseDisabled=function(){return!e.$parent.childrenRows||0===e.$parent.childrenRows.length},e.getValue=function(){return e.row.model.name},e.getRowContent=function(){if(void 0!==e.row.model.content)return e.row.model.content;if(void 0!==e.pluginScope.content)return e.pluginScope.content;var t=e.row.rowsManager.gantt.options.value("rowContent");return void 0===t&&(t="{{row.model.name}}"),t},e.$watch("collapsed",function(t){if(e.$modelValue._collapsed!==t){var n=e.$modelValue._collapsed;e.$modelValue._collapsed=t,void 0!==n&&t!==n&&(e.gantt.api.tree.raise.collapsed(e,e.$modelValue,t),e.gantt.api.rows.refresh())}})}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttTreeBody",["GanttDirectiveBuilder","ganttLayout",function(e,t){var n=new e("ganttTreeBody","plugins/tree/treeBody.tmpl.html");return n.controller=function(e){var n=t.getScrollBarHeight();e.getLabelsCss=function(){var t={};if(e.maxHeight){var a=e.gantt.scroll.isHScrollbarVisible()?n:0;t["max-height"]=e.maxHeight-a-e.gantt.header.getHeight()+"px"}return t}},n.build()}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttTreeHeader",["GanttDirectiveBuilder",function(e){var t=new e("ganttTreeHeader","plugins/tree/treeHeader.tmpl.html");return t.build()}])}(),angular.module("gantt.bounds.templates",[]).run(["$templateCache",function(e){e.put("plugins/bounds/taskBounds.tmpl.html",'<div ng-cloak class="gantt-task-bounds" ng-style="getCss()" ng-class="getClass()"></div>\n')}]),angular.module("gantt.dependencies.templates",[]).run(["$templateCache",function(e){}]),angular.module("gantt.drawtask.templates",[]).run(["$templateCache",function(e){}]),angular.module("gantt.groups.templates",[]).run(["$templateCache",function(e){e.put("plugins/groups/taskGroup.tmpl.html",'<div ng-controller="GanttGroupController">\n    <div class="gantt-task-group-overview" ng-if="taskGroup.overviewTasks.length > 0">\n        <gantt-task-overview ng-repeat="task in taskGroup.overviewTasks"></gantt-task-overview>\n    </div>\n    <div class="gantt-task-group-promote" ng-if="taskGroup.row._collapsed && taskGroup.promotedTasks.length > 0">\n        <gantt-task ng-repeat="task in taskGroup.promotedTasks"></gantt-task>\n    </div>\n    <div class="gantt-task-group"\n         ng-if="taskGroup.showGrouping"\n         ng-style="{\'left\': taskGroup.left + \'px\', \'width\': taskGroup.width + \'px\'}">\n        <div class="gantt-task-group-left-main"></div>\n        <div class="gantt-task-group-right-main"></div>\n        <div class="gantt-task-group-left-symbol"></div>\n        <div class="gantt-task-group-right-symbol"></div>\n    </div>\n</div>\n\n'),e.put("plugins/groups/taskOverview.tmpl.html",'<div class="gantt-task gantt-task-overview" ng-class="task.model.classes">\n    <gantt-task-background></gantt-task-background>\n    <gantt-task-content></gantt-task-content>\n    <gantt-task-foreground></gantt-task-foreground>\n</div>\n\n')}]),angular.module("gantt.labels.templates",[]).run(["$templateCache",function(e){e.put("plugins/labels/labelsBody.tmpl.html",'<div class="gantt-labels-body" ng-style="getLabelsCss()">\n    <div gantt-vertical-scroll-receiver>\n        <div ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n            <div gantt-row-label\n                 class="gantt-row-label gantt-row-height"\n                 ng-class="row.model.classes"\n                 ng-style="{\'height\': row.model.height}">\n                <span class="gantt-label-text">{{row.model.name}}</span>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("plugins/labels/labelsHeader.tmpl.html",'<div class="gantt-labels-header">\n    <div ng-show="gantt.columnsManager.columns.length > 0 && gantt.columnsManager.headers.length > 0">\n        <div ng-repeat="header in gantt.columnsManager.headers">\n            <div class="gantt-row-height" ng-class="{\'gantt-labels-header-row\': $last, \'gantt-labels-header-row-last\': $last}"><span>{{$last ? pluginScope.header : ""}}</span></div>\n        </div>\n    </div>\n</div>\n'),e.put("plugins/labels/sideContentLabels.tmpl.html",'<div class="gantt-side-content-labels">\n    <gantt-labels-header>\n    </gantt-labels-header>\n    <gantt-labels-body>\n    </gantt-labels-body>\n</div>\n')}]),angular.module("gantt.movable.templates",[]).run(["$templateCache",function(e){}]),angular.module("gantt.overlap.templates",[]).run(["$templateCache",function(e){}]),angular.module("gantt.progress.templates",[]).run(["$templateCache",function(e){e.put("plugins/progress/taskProgress.tmpl.html",'<div ng-cloak class="gantt-task-progress" ng-style="getCss()" ng-class="getClasses()"></div>\n')}]),angular.module("gantt.resizeSensor.templates",[]).run(["$templateCache",function(e){}]),angular.module("gantt.sortable.templates",[]).run(["$templateCache",function(e){}]),angular.module("gantt.table.templates",[]).run(["$templateCache",function(e){e.put("plugins/table/sideContentTable.tmpl.html",'<div class="gantt-side-content-table">\n\n    <div class="gantt-table-column {{getClass()}}" ng-repeat="column in pluginScope.columns" ng-controller="TableColumnController">\n\n        <div class="gantt-table-header" ng-style="{height: ganttHeaderHeight + \'px\'}">\n            <div ng-show="ganttHeaderHeight" class="gantt-row-label-header gantt-row-label gantt-table-row gantt-table-header-row">\n                <span class="gantt-label-text" gantt-bind-compile-html="getHeaderContent()"/>\n            </div>\n        </div>\n\n        <div class="gantt-table-content" ng-style="getMaxHeightCss()">\n            <div gantt-vertical-scroll-receiver>\n                <div class="gantt-table-row" ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id" ng-controller="TableColumnRowController">\n                    <div gantt-row-label class="gantt-row-label gantt-row-height" ng-class="row.model.classes" ng-style="{\'height\': row.model.height}">\n                        <div class="gantt-valign-container">\n                            <div class="gantt-valign-content">\n                                <span class="gantt-label-text" gantt-bind-compile-html="getRowContent()"></span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</div>\n')}]),angular.module("gantt.tooltips.templates",[]).run(["$templateCache",function(e){e.put("plugins/tooltips/tooltip.tmpl.html",'<div ng-cloak\n     class="gantt-task-info"\n     ng-show="displayed"\n     ng-class="isRightAligned ? \'gantt-task-infoArrowR\' : \'gantt-task-infoArrow\'"\n     ng-style="{top: taskRect.top + \'px\', marginTop: -elementHeight - 8 + \'px\'}">\n    <div class="gantt-task-info-content">\n        <div gantt-bind-compile-html="pluginScope.content"></div>\n    </div>\n</div>\n')}]),angular.module("gantt.tree.templates",[]).run(["$templateCache",function(e){e.put("plugins/tree/sideContentTree.tmpl.html",'<div class="gantt-side-content-tree" ng-controller="GanttTreeController">\n    <gantt-tree-header>\n    </gantt-tree-header>\n    <gantt-tree-body>\n    </gantt-tree-body>\n</div>\n'),e.put("plugins/tree/treeBody.tmpl.html",'<div class="gantt-tree-body" ng-style="getLabelsCss()">\n    <div gantt-vertical-scroll-receiver>\n        <div class="gantt-row-label-background">\n            <div class="gantt-row-label gantt-row-height"\n                 ng-class="row.model.classes"\n                 ng-style="{\'height\': row.model.height}"\n                 ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n                &nbsp;\n            </div>\n        </div>\n        <div ui-tree ng-controller="GanttUiTreeController" data-drag-enabled="false" data-empty-place-holder-enabled="false">\n            <ol class="gantt-tree-root" ui-tree-nodes ng-model="rootRows">\n                <li ng-repeat="row in rootRows" ui-tree-node\n                    ng-include="\'plugins/tree/treeBodyChildren.tmpl.html\'">\n                </li>\n            </ol>\n        </div>\n    </div>\n</div>\n'),e.put("plugins/tree/treeBodyChildren.tmpl.html",'<div ng-controller="GanttTreeNodeController"\n     class="gantt-row-label gantt-row-height"\n     ng-class="row.model.classes"\n     ng-style="{\'height\': row.model.height}">\n    <div class="gantt-valign-container">\n        <div class="gantt-valign-content">\n            <a ng-disabled="isCollapseDisabled()" data-nodrag\n               class="gantt-tree-handle-button btn btn-xs"\n               ng-class="{\'gantt-tree-collapsed\': collapsed, \'gantt-tree-expanded\': !collapsed}"\n               ng-click="!isCollapseDisabled() && toggle()"><span\n                class="gantt-tree-handle glyphicon glyphicon-chevron-down"\n                ng-class="{\n                \'glyphicon-chevron-right fa fa-chevron-right\': collapsed, \'glyphicon glyphicon-chevron-down fa fa-chevron-down\': !collapsed,\n                \'gantt-tree-collapsed\': collapsed, \'gantt-tree-expanded\': !collapsed}"></span>\n            </a>\n            <span gantt-row-label class="gantt-label-text" gantt-bind-compile-html="getRowContent()"/>\n        </div>\n    </div>\n</div>\n<ol ui-tree-nodes ng-class="{hide: collapsed}" ng-model="childrenRows">\n    <li ng-repeat="row in childrenRows" ui-tree-node>\n        <div ng-include="\'plugins/tree/treeBodyChildren.tmpl.html\'"></div>\n    </li>\n</ol>\n'),e.put("plugins/tree/treeHeader.tmpl.html",'<div class="gantt-tree-header" ng-style="{height: $parent.ganttHeaderHeight + \'px\'}">\n    <div ng-if="$parent.ganttHeaderHeight" class="gantt-row-label gantt-row-label-header gantt-tree-row gantt-tree-header-row"><span class="gantt-label-text" gantt-bind-compile-html="getHeaderContent()"/></div>\n</div>\n')}]);